name: CI — ManusVA

on:
  push:
    branches: [ master ]
  workflow_dispatch:

jobs:
  lint_sql:
    name: Supabase SQL Checks
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Check SQL Files
        run: |
          set -e
          echo "🔍 Checking SQL files..."
          if [ -f supabase_fixes.sql ]; then
            echo "✅ supabase_fixes.sql exists"
          else
            echo "⚠️ Missing supabase_fixes.sql"
          fi

          if [ -f tools/initial_tasks.sql ]; then
            echo "✅ initial_tasks.sql exists"
          else
            echo "⚠️ Missing tools/initial_tasks.sql"
          fi

  # تعطيل بناء الأندرويد نهائيًا
  android_debug_build:
    if: ${{ false }}
    runs-on: ubuntu-latest
    steps:
      - run: echo "Android build skipped for ManusVA (no Flutter app)."
